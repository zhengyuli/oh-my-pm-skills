# Oh-My-PM-Skills æ¨¡æ¿å¼•æ“é…ç½®
# Template Engine Configuration for Oh-My-PM-Skills

# ====================
# æ¨¡æ¿å¼•æ“è®¾ç½®
# ====================
template_engine:
  name: "handlebars"
  version: "4.7.7"
  encoding: "UTF-8"

# ====================
# é»˜è®¤å€¼é…ç½®
# ====================
defaults:
  # æ—¥æœŸæ ¼å¼
  date_format: "YYYY-MM-DD"
  datetime_format: "YYYY-MM-DD HH:mm:ss"

  # è´§å¸è®¾ç½®
  currency: "USD"
  currency_symbol: "$"
  locale: "zh-CN"

  # æ•°å­—æ ¼å¼
  decimal_places: 2
  thousands_separator: ","

  # è¯­è¨€è®¾ç½®
  language: "zh-CN"
  fallback_language: "en-US"

# ====================
# è¾“å‡ºé…ç½®
# ====================
output:
  # è¾“å‡ºæ ¼å¼
  format: "markdown"
  formats_supported:
    - "markdown"
    - "html"
    - "pdf"
    - "json"

  # è¾“å‡ºç›®å½•
  directory: "./output"

  # æ–‡ä»¶å‘½åè§„åˆ™
  naming_pattern: "{project_name}_{template_type}_{date}.{extension}"

  # æ˜¯å¦è¦†ç›–å·²å­˜åœ¨æ–‡ä»¶
  overwrite: false

# ====================
# æ¨¡æ¿è·¯å¾„é…ç½®
# ====================
templates:
  # åŸºç¡€è·¯å¾„
  base_path: "./templates"

  # æ¨¡æ¿åˆ†ç±»
  categories:
    analytics: "analytics-report.md"
    forecast: "forecast-report.md"
    prd:
      lean: "prd/prd-lean.md"
      standard: "prd/prd-standard.md"
      security: "prd/prd-security.md"
    security:
      threat: "security/threat-stride.md"
      compliance: "security/compliance-soc2.md"
      test_plan: "security/security-test-plan.md"
    research:
      market: "research/market-research.md"
      jtbd: "research/jtbd-analysis.md"
      competitor: "research/competitor-analysis.md"

# ====================
# æ•°æ®éªŒè¯è§„åˆ™
# ====================
validation:
  # å¿…å¡«å­—æ®µï¼ˆæ‰€æœ‰æ¨¡æ¿é€šç”¨ï¼‰
  required_fields:
    - "project_name"
    - "version"
    - "date"
    - "author"

  # å„æ¨¡æ¿ç‰¹å®šå¿…å¡«å­—æ®µ
  template_requirements:
    prd:
      - "status"
      - "product_vision"
    security:
      - "security_level"
      - "threat_modeling_methodology"
    analytics:
      - "analysis_period"
      - "data_source"

  # å­—æ®µç±»å‹éªŒè¯
  field_types:
    version: "semver"
    date: "date"
    email: "email"
    url: "url"
    percentage: "number(0-100)"

# ====================
# è‡ªå®šä¹‰è¾…åŠ©å‡½æ•°
# ====================
helpers:
  # æ—¥æœŸæ ¼å¼åŒ–
  formatDate:
    description: "æ ¼å¼åŒ–æ—¥æœŸ"
    parameters:
      - name: "date"
        type: "string"
      - name: "format"
        type: "string"
        default: "YYYY-MM-DD"

  # è´§å¸æ ¼å¼åŒ–
  formatCurrency:
    description: "æ ¼å¼åŒ–è´§å¸"
    parameters:
      - name: "amount"
        type: "number"
      - name: "currency"
        type: "string"
        default: "USD"

  # æ•°å­—æ ¼å¼åŒ–
  formatNumber:
    description: "æ ¼å¼åŒ–æ•°å­—"
    parameters:
      - name: "number"
        type: "number"
      - name: "decimals"
        type: "number"
        default: 2

  # ç™¾åˆ†æ¯”è®¡ç®—
  calculatePercentage:
    description: "è®¡ç®—ç™¾åˆ†æ¯”"
    parameters:
      - name: "value"
        type: "number"
      - name: "total"
        type: "number"
    returns: "number(0-100)"

  # DREAD è¯„åˆ†è®¡ç®—
  calculateDread:
    description: "è®¡ç®— DREAD é£é™©è¯„åˆ†"
    parameters:
      - name: "damage"
        type: "number"
      - name: "reproducibility"
        type: "number"
      - name: "exploitability"
        type: "number"
      - name: "affected"
        type: "number"
      - name: "discoverability"
        type: "number"
    returns: "number(1-10)"
    formula: "(damage + reproducibility + exploitability + affected + discoverability) / 5"

  # é£é™©ç­‰çº§è¯„ä¼°
  assessRiskLevel:
    description: "æ ¹æ® DREAD è¯„åˆ†è¯„ä¼°é£é™©ç­‰çº§"
    parameters:
      - name: "score"
        type: "number"
    returns: "string"
    mapping:
      low: "1-3"
      medium: "4-6"
      high: "7-10"

  # çŠ¶æ€æ ‡ç­¾
  statusBadge:
    description: "ç”ŸæˆçŠ¶æ€æ ‡ç­¾"
    parameters:
      - name: "status"
        type: "string"
    returns: "string"
    styles:
      completed: "ğŸŸ¢"
      in_progress: "ğŸŸ¡"
      pending: "âšª"
      blocked: "ğŸ”´"
      cancelled: "âš«"

# ====================
# æ•°æ®æºé…ç½®
# ====================
data_sources:
  # ç¤ºä¾‹æ•°æ®
  examples:
    directory: "./examples"
    files:
      analytics: "analytics-sample-data.json"
      forecast: "forecast-sample-data.json"
      prd: "prd-sample-data.json"

  # å¤–éƒ¨æ•°æ®æº
  external:
    enabled: false
    api_timeout: 30000
    retry_attempts: 3

# ====================
# ç¼“å­˜é…ç½®
# ====================
cache:
  enabled: true
  ttl: 3600  # ç§’
  directory: "./cache"

# ====================
# æ—¥å¿—é…ç½®
# ====================
logging:
  level: "info"  # debug, info, warn, error
  format: "json"
  output: "console"

# ====================
# å®‰å…¨é…ç½®
# ====================
security:
  # è¾“å…¥æ¸…ç†
  sanitize_input: true

  # å…è®¸çš„ HTML æ ‡ç­¾ï¼ˆç”¨äº HTML è¾“å‡ºï¼‰
  allowed_tags:
    - "p"
    - "br"
    - "strong"
    - "em"
    - "ul"
    - "ol"
    - "li"
    - "h1"
    - "h2"
    - "h3"
    - "h4"
    - "h5"
    - "h6"
    - "table"
    - "thead"
    - "tbody"
    - "tr"
    - "th"
    - "td"

  # æœ€å¤§æ–‡ä»¶å¤§å°
  max_file_size: "10MB"

# ====================
# æœ¬åœ°åŒ–é…ç½®
# ====================
i18n:
  # æ”¯æŒçš„è¯­è¨€
  supported_languages:
    - code: "zh-CN"
      name: "ç®€ä½“ä¸­æ–‡"
      date_format: "YYYY-MM-DD"
    - code: "zh-TW"
      name: "ç¹é«”ä¸­æ–‡"
      date_format: "YYYY/MM/DD"
    - code: "en-US"
      name: "English (US)"
      date_format: "MM/DD/YYYY"
    - code: "ja-JP"
      name: "æ—¥æœ¬èª"
      date_format: "YYYY-MM-DD"

  # ç¿»è¯‘æ–‡ä»¶è·¯å¾„
  translations_path: "./locales"

# ====================
# æ€§èƒ½é…ç½®
# ====================
performance:
  # å¹¶è¡Œå¤„ç†
  parallel_processing: true
  max_workers: 4

  # æµå¼å¤„ç†ï¼ˆå¤§æ–‡ä»¶ï¼‰
  streaming_enabled: true
  chunk_size: "64KB"

# ====================
# æ’ä»¶é…ç½®
# ====================
plugins:
  enabled: false
  directory: "./plugins"
  autoload: true

# ====================
# å¼€å‘æ¨¡å¼
# ====================
development:
  enabled: false
  debug_mode: false
  pretty_print: true
  line_numbers: true

# ====================
# ç‰ˆæœ¬ä¿¡æ¯
# ====================
version:
  major: 1
  minor: 0
  patch: 0
  pre_release: ""
  build_metadata: ""
